<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Your Phalahaar cart - review items, apply coupons, and checkout.">
    <title>Shopping Cart - Phalahaar</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="scroll-progress"></div>

    <section id="header">
        <div id="logo"><img src="image/LOGO2.png" alt="Phalahaar Logo">
            <h1>Phalahaar</h1>
        </div>
        <div class="header-controls">
            <button class="theme-toggle" aria-label="Toggle dark mode"><i class="fa-solid fa-moon"></i></button>
            <button class="hamburger" aria-label="Menu"><span></span><span></span><span></span></button>
        </div>
        <ul id="navbar">
            <li><a href="./index.html">Home</a></li>
            <li><a href="./about.html">About</a></li>
            <li><a href="./outlet.html">Outlet</a></li>
            <li><a href="./product.html">Product</a></li>
            <li><a href="./contact.html">Contact</a></li>
            <li><a href="./faq.html">FAQ</a></li>
            <li><a href="./wishlist.html" class="cart-link"><i class="fa-solid fa-heart"></i><span
                        class="wishlist-count"></span></a></li>
            <li><a href="./cart.html" class="cart-link active"><i class="fa-solid fa-cart-shopping"></i><span
                        class="cart-badge"></span></a></li>
        </ul>
    </section>

    <div class="breadcrumbs"><a href="index.html">Home</a> <span>â€º</span> <strong>Shopping Cart</strong></div>

    <section id="cart" class="section-p1">
        <h1 style="font-size:clamp(1.8rem,3vw,2.5rem);color:var(--primary);font-weight:800;margin-bottom:20px;">Your
            Shopping Cart</h1>
        <table>
            <thead>
                <tr>
                    <td>Remove</td>
                    <td>Image</td>
                    <td>Product</td>
                    <td>Price</td>
                    <td>Quantity</td>
                    <td>Subtotal</td>
                </tr>
            </thead>
            <tbody id="cart-items"></tbody>
        </table>
    </section>

    <section id="cart-add" class="section-p1">
        <div id="coupon">
            <h3>Apply Coupon</h3>
            <div><input type="text" placeholder="Enter coupon code (e.g. FRESH50)"><button
                    onclick="window.showToast('Coupon applied successfully!','ðŸŽ‰')">Apply</button></div>
        </div>
        <div id="subtotal">
            <h3>Cart Totals</h3>
            <table>
                <tr>
                    <td>Cart Subtotal</td>
                    <td id="cart-subtotal">â‚¹0</td>
                </tr>
                <tr>
                    <td>Shipping</td>
                    <td>Free</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong id="cart-total">â‚¹0</strong></td>
                </tr>
            </table>
            <button onclick="window.showToast('Checkout coming soon!','ðŸš€')">Proceed to Checkout</button>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-wrapper">
            <div class="footer-about">
                <h2>Phalahaar</h2>
                <p>Your trusted source for fresh, organic fruits delivered with care.</p>
                <div class="footer-contact">
                    <p><strong>Address:</strong> Balaji Residence, Sakhipada, Sambalpur</p>
                    <p><strong>Phone:</strong> +91 91******27</p>
                </div>
            </div>
            <nav class="footer-links">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="product.html">Products</a></li>
                    <li><a href="faq.html">FAQ</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="footer-social">
                <h3>Follow Us</h3>
                <div class="social-icons"><a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a><a
                        href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a><a href="#"
                        aria-label="Instagram"><i class="fab fa-instagram"></i></a></div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Pratyush Panda - Phalahaar. All rights reserved.</p>
        </div>
    </footer>

    <a href="https://wa.me/919100000027" target="_blank" class="whatsapp-float" aria-label="Chat on WhatsApp"><i
            class="fab fa-whatsapp"></i></a>
    <button class="back-to-top" aria-label="Back to top"><i class="fa-solid fa-arrow-up"></i></button>

    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', renderCart);
        function renderCart() {
            let cart = JSON.parse(localStorage.getItem('cart') || '[]');
            const tbody = document.getElementById('cart-items');
            tbody.innerHTML = '';
            if (cart.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6"><div class="empty-cart"><div class="empty-icon">ðŸ›’</div><p>Your cart is empty</p><a href="product.html" class="btn-primary">Browse Products</a></div></td></tr>';
                document.getElementById('cart-subtotal').textContent = 'â‚¹0';
                document.getElementById('cart-total').textContent = 'â‚¹0';
                return;
            }
            let subtotal = 0;
            cart.forEach((item, idx) => {
                const s = item.price * item.quantity; subtotal += s;
                const tr = document.createElement('tr');
                tr.innerHTML = `<td><button class="remove-btn" data-idx="${idx}"><i class="fa-regular fa-circle-xmark"></i></button></td><td><img src="${item.img}" alt="${item.name}"></td><td>${item.name}</td><td>â‚¹${item.price}</td><td><input type="number" min="1" value="${item.quantity}" class="qty-input" data-idx="${idx}" style="width:60px;padding:6px;border:2px solid var(--border);border-radius:8px;text-align:center;background:var(--bg-card);color:var(--text)"></td><td>â‚¹${s}</td>`;
                tbody.appendChild(tr);
            });
            document.getElementById('cart-subtotal').textContent = 'â‚¹' + subtotal;
            document.getElementById('cart-total').textContent = 'â‚¹' + subtotal;
            document.querySelectorAll('.remove-btn').forEach(b => b.addEventListener('click', () => {
                let c = JSON.parse(localStorage.getItem('cart') || '[]');
                const n = c[b.dataset.idx]?.name;
                c.splice(parseInt(b.dataset.idx), 1);
                localStorage.setItem('cart', JSON.stringify(c));
                if (window.showToast) window.showToast(`${n} removed`, 'ðŸ—‘ï¸');
                renderCart();
                const badge = document.querySelector('.cart-badge');
                if (badge) { const cnt = c.reduce((s, i) => s + i.quantity, 0); badge.textContent = cnt > 0 ? cnt : ''; badge.setAttribute('data-count', cnt); }
            }));
            document.querySelectorAll('.qty-input').forEach(i => i.addEventListener('change', () => {
                let c = JSON.parse(localStorage.getItem('cart') || '[]');
                c[i.dataset.idx].quantity = Math.max(1, parseInt(i.value) || 1);
                localStorage.setItem('cart', JSON.stringify(c));
                renderCart();
                const badge = document.querySelector('.cart-badge');
                if (badge) { const cnt = c.reduce((s, x) => s + x.quantity, 0); badge.textContent = cnt > 0 ? cnt : ''; badge.setAttribute('data-count', cnt); }
            }));
        }
    </script>
</body>

</html>